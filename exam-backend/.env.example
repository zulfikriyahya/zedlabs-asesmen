# ── Application ──────────────────────────────────────────
NODE_ENV=development
PORT=3001
API_PREFIX=api
APP_URL=http://localhost:3001

# ── Database (Prisma) ─────────────────────────────────────
# Via PgBouncer (production)
DATABASE_URL=postgresql://exam_user:exam_password@pgbouncer:6432/exam_db
# Direct ke Postgres (migration & RLS setup)
DATABASE_DIRECT_URL=postgresql://exam_user:exam_password@postgres:5432/exam_db

# ── Redis ─────────────────────────────────────────────────
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ── JWT ───────────────────────────────────────────────────
# Minimal 32 karakter, random, berbeda satu sama lain
JWT_ACCESS_SECRET=change-this-access-secret-min-32-chars
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_SECRET=change-this-refresh-secret-min-32-chars
JWT_REFRESH_EXPIRES_IN=7d

# ── Enkripsi (AES-256-GCM) ────────────────────────────────
# Generate: openssl rand -hex 32
ENCRYPTION_KEY=0000000000000000000000000000000000000000000000000000000000000000

# ── MinIO (S3-compatible) ─────────────────────────────────
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_USE_SSL=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=exam-assets
MINIO_PRESIGNED_TTL=3600

# ── BullMQ ────────────────────────────────────────────────
BULLMQ_CONCURRENCY=10

# ── Rate Limiting ─────────────────────────────────────────
THROTTLE_TTL=60
THROTTLE_LIMIT=100

# ── File Upload ───────────────────────────────────────────
MAX_FILE_SIZE=1073741824
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp
ALLOWED_AUDIO_TYPES=audio/mpeg,audio/wav,audio/webm
ALLOWED_VIDEO_TYPES=video/mp4,video/webm

# ── Sentry (error tracking) ───────────────────────────────
# Kosongkan untuk menonaktifkan
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1

# ── SMTP (email notification) ─────────────────────────────
# Kosongkan SMTP_USER/SMTP_PASS untuk menonaktifkan email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@exam.app
