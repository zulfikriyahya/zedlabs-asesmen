---
import DashboardLayout from '@/layouts/Dashboard.astro';
import Table from '@/components/ui/Table.astro';

// Mock Data
const pendingGrading = [
  { attemptId: 501, student: 'Budi Santoso', exam: 'Biologi XI-IPA', submittedAt: '2024-01-20 10:30', ungradedCount: 3 },
  { attemptId: 502, student: 'Siti Aminah', exam: 'Biologi XI-IPA', submittedAt: '2024-01-20 10:35', ungradedCount: 3 },
];
---

<DashboardLayout title="Koreksi Jawaban (Grading)" role="guru">
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <div class="alert alert-info shadow-sm mb-6">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        <span>Menampilkan daftar siswa yang memiliki jawaban Esai/Audio/Video yang belum dinilai.</span>
      </div>

      <Table zebra>
        <thead>
          <tr>
            <th>Siswa</th>
            <th>Ujian</th>
            <th>Waktu Submit</th>
            <th>Belum Dinilai</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody>
          {pendingGrading.map((item) => (
            <tr>
              <td class="font-semibold">{item.student}</td>
              <td>{item.exam}</td>
              <td>{item.submittedAt}</td>
              <td>
                <span class="badge badge-warning">{item.ungradedCount} soal</span>
              </td>
              <td>
                <a href={`/guru/grading/${item.attemptId}`} class="btn btn-sm btn-primary">
                  Mulai Koreksi
                </a>
              </td>
            </tr>
          ))}
          {pendingGrading.length === 0 && (
            <tr>
              <td colspan="5" class="text-center py-8 text-base-content/50">Tidak ada jawaban yang perlu dikoreksi.</td>
            </tr>
          )}
        </tbody>
      </Table>
    </div>
  </div>
</DashboardLayout>